<html>
<style type="text/css">
  button{
    background: green;
  }
</style>
<body>
    <button id="1"> push me </button>
    <div id="myPlace1"></div>
    <button id="2"> push me </button>
    <div id="myPlace2"></div>
 
<script>

/*
Funciton called Dojo that takes an id
Dojo function returns an object that has the click and hover method
click and hover register Event Listeners for the object that is returned by the 
*/

function putText(){
  let num = this.id;
  console.log("value of id: " + num)
  document.getElementById("myPlace" + num).innerHTML = "The button has been pushed."
}

function mouseIn(){
  let num = this.id;
  document.getElementById(num).onmouseover = () => {
    document.getElementById(num).style.backgroundcolor = "blue";
    console.log("what is going on: ")
  }
}

function mouseOut(){
  let num = this.id;
  document.getElementById(num).onmouseout = () => {
    document.body.style.color = "green";
  }
}


(function(global){
  class MyDojoElement {
    constructor(htmlElement){
      this.htmlElement = htmlElement;
    }

    click(callback){
      this.htmlElement.addEventListener('click', callback);
      console.log("click has been clicked")
    }

    hover(inFunc, outFunc){
      this.htmlElement.addEventListener('mouseover', inFunc);
      this.htmlElement.addEventListener('mouseout', outFunc);
    }
  }
  
  
/*
  takes an id, return MyDojoElement object
  @params id - type String
*/

  function DojoQuery(id) {
    return new MyDojoElement (document.getElementById(id));
  }

// this is the property that is being referenced on the window/page i.e.; id=DojoQuery on an element
//  global.DojoQuery = DojoQuery; // this was the original line
  global.$Dojo = DojoQuery;

}(window))

console.log("init val of id: " + this.id);
const first = $Dojo("1");
const second = $Dojo("2");


first.click(putText);
second.click(putText);
first.hover(mouseIn, mouseOut);
second.hover(mouseIn, mouseOut);

</script>   
</body>
</html>